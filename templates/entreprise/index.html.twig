{% extends 'base.html.twig' %}

{% block title %}Liste des entreprises{% endblock %}

{% block body %}

    <h1>Liste des entreprises <sup><button type="button" class="btn btn-dark btn-sm">{{entreprises | length}}</button></sup></h1>

    <p><a href="{{ path('add_entreprise') }}"><button type="button" class="btn btn-success">Ajouter une entreprise</button></a></p>

    <table class="table table-striped">
        <thead>
            <tr>
                <th class="text-uppercase">Entreprise</th>
                <th>Siège social</th>
                <th>Date de création</th>
                <th>Action</th>
            </tr>
        </thead>
        <tbody>
    {% for entreprise in entreprises %}
            <tr>
                <td class="text-uppercase"> <a href="{{ path('show_entreprise', {'id': entreprise.id}) }}"> {{ entreprise }} </a> </td>
                <td> {{ entreprise.adresseComplete }} </td>
                <td> {{ entreprise.dateCreation | date('d/m/Y') }} </td> {# ici entreprise.adresseComplete fait référence à entreprise.getAdresseComplete(), ce "raccourci" est similaire pour toutes les méthodes commençant par get / find /is / has #}
                <td> <a href="{{ path('update_entreprise', {'id': entreprise.id}) }}"><button type="button" class="btn btn-warning"><i class="fa-solid fa-pen-to-square"></i></button></a> <a href="{{ path('delete_entreprise', {'id': entreprise.id}) }}"><button type="button" class="btn btn-danger"><i class="fa-solid fa-trash-can"></i></button></a> </td>                
            </tr>
    {% endfor %}
        </tbody>
    </table>

{% endblock %}
